<link rel="stylesheet" th:href="@{/css/navbar.css}">


<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
    <a class="navbar-brand d-flex align-items-center" th:href="@{/}">
        <img th:src="@{/images/Logo.png}" alt="Logo" class="logo-img me-2"/>
    </a>

    <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
        <ul class="navbar-nav align-items-center">
            <!-- VISIBILE SOLO SE NON LOGGATO -->

            <!-- UTENTE LOGGATO STANDARD -->
            <li class="nav-item" th:if="${userDetails != null and isDefault}">
                <a class="nav-link d-flex align-items-center" href="/profile" title="Profilo">
                    <img th:src="@{'/user/' + ${user.id} + '/profilePic'}"
                         th:alt="${userDetails.username}"
                         class="profile-pic-nav"
                         onerror="this.onerror=null;this.src='/images/profilePlaceholder.png';"/>
                </a>
            </li>
            <li class="nav-item" th:if="${userDetails != null and isDefault}">
                <a class="nav-link d-flex align-items-center" href="/logout" title="Logout">
                    <i class="bi bi-box-arrow-right me-1"></i> Logout
                </a>
            </li>

            <!-- UTENTE ADMIN -->
            <li class="nav-item" th:if="${userDetails != null and isAdmin}">
                <a class="nav-link d-flex align-items-center" href="/profile" title="Profilo">
                    <img th:src="@{'/user/' + ${user.id} + '/profilePic'}"
                         th:alt="${userDetails.username}"
                         class="profile-pic-nav"
                         onerror="this.onerror=null;this.src='/images/profilePlaceholder.png';"/>
                </a>
            </li>
            <li class="nav-item" th:if="${userDetails != null and isAdmin}">
                <a class="nav-link d-flex align-items-center" href="/logout" title="Logout">
                    <i class="bi bi-box-arrow-right me-1"></i> Logout
                </a>
            </li>
        </ul>
    </div>
</nav>
